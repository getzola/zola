<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Everything you need to make a static site engine in one binary.">
        <meta name="author" content="Vincent Prouillet">
        <title>Image processing | Zola </title>
        <link rel="stylesheet" href="https://www.getzola.org/site.css">
        <link rel="icon" href="https://www.getzola.org/favicon.ico">
    </head>
    <body>

        <header>
		<a class="header__logo white" href="https:&#x2F;&#x2F;www.getzola.org&#x2F;"><img
			src="/logos/Zola-logo-white.svg"
			title="Zola main logo in white"
			alt="Zola"
			/></a>
            <nav>
                <ul>
                    <li><a class="white" href="https://www.getzola.org/documentation/" class="nav-link">Docs</a></li>
                    <li><a class="white" href="https://www.getzola.org/themes/" class="nav-link">Themes</a></li>
                    <li><a class="white external" href="https://zola.discourse.group/" class="nav-link">Forum</a></li>
                    <li><a class="white external" href="https://github.com/getzola/zola" class="nav-link">GitHub</a></li>
                </ul>
                <div class="search-container">
                    <input id="search" type="search" placeholder="ðŸ”Ž Search the docs">

                    <div class="search-results">
                        <div class="search-results__items"></div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="content content--reversed">
            

<div class="documentation">
    <aside class="documentation__sidebar">
        <ul>
        
            
            <li>
                <span class="documentation__sidebar__title">Getting Started</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;installation&#x2F;">Installation</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;cli-usage&#x2F;">CLI usage</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;directory-structure&#x2F;">Directory structure</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;getting-started&#x2F;configuration&#x2F;">Configuration</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Content</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;section&#x2F;">Section</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;page&#x2F;">Page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;shortcodes&#x2F;">Shortcodes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;linking&#x2F;">Internal links &amp; deep linking</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;table-of-contents&#x2F;">Table of Contents</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;syntax-highlighting&#x2F;">Syntax Highlighting</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;search&#x2F;">Search</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;sass&#x2F;">Sass</a>
                        </li>
                    
                        <li class="active">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;image-processing&#x2F;">Image processing</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;content&#x2F;multilingual&#x2F;">Multilingual sites</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Templates</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pages-sections&#x2F;">Sections and Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;pagination&#x2F;">Pagination</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;taxonomies&#x2F;">Taxonomies</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;feeds&#x2F;">Feeds</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;sitemap&#x2F;">Sitemap</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;robots&#x2F;">Robots.txt</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;404&#x2F;">404 error page</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;templates&#x2F;archive&#x2F;">Archive</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Themes</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;installing-and-using-themes&#x2F;">Installing &amp; using themes</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;creating-a-theme&#x2F;">Creating a theme</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;themes&#x2F;extending-a-theme&#x2F;">Customizing a theme</a>
                        </li>
                    
                </ul>
            </li>
        
            
            <li>
                <span class="documentation__sidebar__title">Deployment</span>
                <ul>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;overview&#x2F;">Overview</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;sourcehut&#x2F;">Sourcehut Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;netlify&#x2F;">Netlify</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;github-pages&#x2F;">GitHub Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;gitlab-pages&#x2F;">GitLab Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;codeberg-pages&#x2F;">Codeberg Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;edgio&#x2F;">Edgio</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;vercel&#x2F;">Vercel</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;zeabur&#x2F;">Zeabur</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;azure-static-webapps&#x2F;">Azure Static Web Apps</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;cloudflare-pages&#x2F;">Cloudflare Pages</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;flyio&#x2F;">Fly.io</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;aws-s3&#x2F;">AWS S3 Bucket</a>
                        </li>
                    
                        <li class="">
                            <a href="https:&#x2F;&#x2F;www.getzola.org&#x2F;documentation&#x2F;deployment&#x2F;docker-image&#x2F;">Docker image</a>
                        </li>
                    
                </ul>
            </li>
        
        </ul>
    </aside>
    <div class="documentation__content">
        
    <h1>Image processing</h1>
    <p>Zola provides support for automatic image resizing through the built-in function <code>resize_image</code>,
which is available in template code as well as in shortcodes.</p>
<p>The function usage is as follows:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>resize_image(path, width, height, op, format, quality, speed)
</span></code></pre>
<h3 id="arguments"><a class="zola-anchor" href="#arguments" aria-label="Anchor link for: arguments">ðŸ”—</a>Arguments</h3>
<ul>
<li>
<p><code>path</code>: The path to the source image. The following directories will be searched, in this order:</p>
<ul>
<li><code>/</code> (the root of the project; that is, the directory with your <code>config.toml</code>)</li>
<li><code>/static</code></li>
<li><code>/content</code></li>
<li><code>/public</code></li>
<li><code>/themes/current-theme/static</code></li>
</ul>
</li>
<li>
<p><code>width</code> and <code>height</code>: The dimensions in pixels of the resized image. Usage depends on the <code>op</code> argument.</p>
</li>
<li>
<p><code>op</code> (<em>optional</em>): Resize operation. This can be one of:</p>
<ul>
<li><code>"scale"</code></li>
<li><code>"fit_width"</code></li>
<li><code>"fit_height"</code></li>
<li><code>"fit"</code></li>
<li><code>"fill"</code></li>
</ul>
<p>What each of these does is explained below. The default is <code>"fill"</code>.</p>
</li>
<li>
<p><code>format</code> (<em>optional</em>): Encoding format of the resized image. May be one of:</p>
<ul>
<li><code>"auto"</code></li>
<li><code>"jpg"</code></li>
<li><code>"png"</code></li>
<li><code>"webp"</code></li>
<li><code>"avif"</code></li>
</ul>
<p>The default is <code>"auto"</code>, this means that the format is chosen based on input image format.
JPEG is chosen for JPEGs and other lossy formats, and PNG is chosen for PNGs and other lossless formats.</p>
</li>
<li>
<p><code>quality</code> (<em>optional</em>): Quality of the resized image. Quality is only used when encoding JPEGs, WebPs or AVIFs. Quality for JPEG ranges from 1 to 100 and defaults to 75. Quality for WebP ranges from 0 to 100 and defaults to lossless encoding. Quality for AVIF ranges from 1 to 100 and defaults to 80.</p>
</li>
<li>
<p><code>speed</code> (<em>optional</em>): Speed of encoding the resized image. Speed is only used when encoding AVIFs. Speed for AVIF ranges from 1 to 10 and defaults to 5. Speed 10 should process images the fastest, but may not produce the best compression; speed 1 is much slower but produces the best compression.</p>
</li>
</ul>
<h3 id="image-processing-and-return-value"><a class="zola-anchor" href="#image-processing-and-return-value" aria-label="Anchor link for: image-processing-and-return-value">ðŸ”—</a>Image processing and return value</h3>
<p>Zola performs image processing during the build process and places the resized images in a subdirectory in the static files directory:</p>
<pre style="background-color:#383838;color:#e6e1dc;"><code><span>static/processed_images/
</span></code></pre>
<p>The filename of each resized image is a hash of the function arguments,
which means that once an image is resized in a certain way, it will be stored in the above directory and will not
need to be resized again during subsequent builds (unless the image itself, the dimensions, or other arguments have changed).</p>
<p>The function returns an object with the following schema:</p>
<pre style="background-color:#383838;color:#e6e1dc;"><code><span>/// The final URL for that asset
</span><span>url: String,
</span><span>/// The path to the static asset generated
</span><span>static_path: String,
</span><span>/// New image width
</span><span>width: u32,
</span><span>/// New image height
</span><span>height: u32,
</span><span>/// Original image width
</span><span>orig_width: u32,
</span><span>/// Original image height
</span><span>orig_height: u32,
</span></code></pre>
<h2 id="resize-operations"><a class="zola-anchor" href="#resize-operations" aria-label="Anchor link for: resize-operations">ðŸ”—</a>Resize operations</h2>
<p>The source for all examples is this 300 pixel Ã— 380 pixel image:</p>
<p><img src="https://www.getzola.org/documentation/content/image-processing/01-zola.png" alt="zola" /></p>
<h3 id="scale"><a class="zola-anchor" href="#scale" aria-label="Anchor link for: scale">ðŸ”—</a><strong><code>"scale"</code></strong></h3>
<p>Simply scales the image to the specified dimensions (<code>width</code> &amp; <code>height</code>) irrespective of the aspect ratio.</p>
<p><code>resize_image(..., width=150, height=150, op="scale")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.aa5c9741e1f54677.png" />
<h3 id="fit-width"><a class="zola-anchor" href="#fit-width" aria-label="Anchor link for: fit-width">ðŸ”—</a><strong><code>"fit_width"</code></strong></h3>
<p>Resizes the image such that the resulting width is <code>width</code> and height is whatever will preserve the aspect ratio.
The <code>height</code> argument is not needed.</p>
<p><code>resize_image(..., width=100, op="fit_width")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.c31346a8ceb47990.png" />
<h3 id="fit-height"><a class="zola-anchor" href="#fit-height" aria-label="Anchor link for: fit-height">ðŸ”—</a><strong><code>"fit_height"</code></strong></h3>
<p>Resizes the image such that the resulting height is <code>height</code> and width is whatever will preserve the aspect ratio.
The <code>width</code> argument is not needed.</p>
<p><code>resize_image(..., height=150, op="fit_height")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.415a7ae280b04f3a.png" />
<h3 id="fit"><a class="zola-anchor" href="#fit" aria-label="Anchor link for: fit">ðŸ”—</a><strong><code>"fit"</code></strong></h3>
<p>Like <code>"fit_width"</code> and <code>"fit_height"</code> combined, but only resize if the image is bigger than any of the specified dimensions.
This mode is handy, if for example images are automatically shrunk to certain sizes in a shortcode for
mobile optimization.
Resizes the image such that the result fits within <code>width</code> and <code>height</code> while preserving the aspect ratio. This
means that both width or height will be at max <code>width</code> and <code>height</code>, respectively, but possibly one of them
smaller so as to preserve the aspect ratio.</p>
<p><code>resize_image(..., width=5000, height=5000, op="fit")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.8b09d4ac023bf17f.png" />
<p><code>resize_image(..., width=150, height=150, op="fit")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.88a4046ce11eac5c.png" />
<h3 id="fill"><a class="zola-anchor" href="#fill" aria-label="Anchor link for: fill">ðŸ”—</a><strong><code>"fill"</code></strong></h3>
<p>This is the default operation. It takes the image's center part with the same aspect ratio as the <code>width</code> and
<code>height</code> given and resizes that to <code>width</code> and <code>height</code>. This means that parts of the image that are outside
of the resized aspect ratio are cropped away.</p>
<p><code>resize_image(..., width=150, height=150, op="fill")</code></p>

<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.a7f6fb4842538499.png" />
<h2 id="using-resize-image-in-markdown-via-shortcodes"><a class="zola-anchor" href="#using-resize-image-in-markdown-via-shortcodes" aria-label="Anchor link for: using-resize-image-in-markdown-via-shortcodes">ðŸ”—</a>Using <code>resize_image</code> in markdown via shortcodes</h2>
<p><code>resize_image</code> is a Zola built-in Tera function (see the <a href="https://www.getzola.org/documentation/templates/">templates</a> chapter),
but it can be used in Markdown using <a href="https://www.getzola.org/documentation/content/shortcodes/">shortcodes</a>.</p>
<p>The examples above were generated using a shortcode file named <code>resize_image.html</code> with this content:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">width</span><span>, </span><span style="color:#d0d0ff;">height</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">height</span><span>, </span><span style="color:#d0d0ff;">op</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">op</span><span>) %}
</span><span>&lt;img src=&quot;{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}&quot; /&gt;
</span></code></pre>
<h2 id="creating-picture-galleries"><a class="zola-anchor" href="#creating-picture-galleries" aria-label="Anchor link for: creating-picture-galleries">ðŸ”—</a>Creating picture galleries</h2>
<p>The <code>resize_image()</code> can be used multiple times and/or in loops. It is designed to handle this efficiently.</p>
<p>This can be used along with <code>assets</code> <a href="https://www.getzola.org/documentation/templates/pages-sections/">page metadata</a> to create picture galleries.
The <code>assets</code> variable holds paths to all assets in the directory of a page with resources
(see <a href="https://www.getzola.org/documentation/content/overview/#asset-colocation">asset colocation</a>); if you have files other than images you
will need to filter them out in the loop first like in the example below.</p>
<p>This can be used in shortcodes. For example, we can create a very simple html-only clickable
picture gallery with the following shortcode named <code>gallery.html</code>:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>&lt;div&gt;
</span><span>{% </span><span style="color:#cc7833;">for </span><span style="color:#d0d0ff;">asset </span><span style="color:#cc7833;">in </span><span style="color:#d0d0ff;">page</span><span>.</span><span style="color:#d0d0ff;">assets </span><span>-%}
</span><span>  {%- </span><span style="color:#cc7833;">if </span><span style="color:#d0d0ff;">asset </span><span style="color:#cc7833;">is </span><span style="color:#d0d0ff;">matching</span><span>(</span><span style="color:#c1be91;">&quot;[.](jpg|png)$&quot;</span><span>) -%}
</span><span>    {% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">asset</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span>240, </span><span style="color:#d0d0ff;">height</span><span style="color:#cc7833;">=</span><span>180) %}
</span><span>    &lt;a href=&quot;{{ </span><span style="color:#d0d0ff;">get_url</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">asset</span><span>) }}&quot; target=&quot;_blank&quot;&gt;
</span><span>      &lt;img src=&quot;{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}&quot; /&gt;
</span><span>    &lt;/a&gt;
</span><span>  {%- </span><span style="color:#cc7833;">endif </span><span>%}
</span><span>{%- </span><span style="color:#cc7833;">endfor </span><span>%}
</span><span>&lt;/div&gt;
</span></code></pre>
<p>As you can notice, we didn't specify an <code>op</code> argument, which means that it'll default to <code>"fill"</code>. Similarly,
the format will default to <code>"auto"</code> (choosing PNG or JPEG as appropriate) and the JPEG quality will default to <code>75</code>.</p>
<p>To call it from a Markdown file, simply do:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{{ </span><span style="color:#d0d0ff;">gallery</span><span>() }}
</span></code></pre>
<p>Here is the result:</p>
<div>

    <a href="https://www.getzola.org/documentation/content/image-processing/01-zola.png" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.1a8b81cf026f45cb.png" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/02-zola-manet.png" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;02-zola-manet.f247a1c1a09dea92.png" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/03-zola-cezanne.png" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;03-zola-cezanne.54f3edb977adbe2f.png" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/04-gutenberg.jpg" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;04-gutenberg.6b23c36e66378f24.jpg" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/05-example.jpg" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;05-example.67dc3b46cdb5d5d4.jpg" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/06-example.jpg" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;06-example.2c54491c2daefe2f.jpg" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/07-example.jpg" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;07-example.3143e7a66ae6fd02.jpg" />
    </a>
    <a href="https://www.getzola.org/documentation/content/image-processing/08-example.jpg" target="_blank">
      <img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;08-example.684e6a6497b4e859.jpg" />
    </a>
</div>
<small>
  Image attribution: Public domain, except: _06-example.jpg_: Willi Heidelbach, _07-example.jpg_: Daniel Ullrich.
</small>
<h2 id="get-image-size-and-relative-resizing"><a class="zola-anchor" href="#get-image-size-and-relative-resizing" aria-label="Anchor link for: get-image-size-and-relative-resizing">ðŸ”—</a>Get image size and relative resizing</h2>
<p>Sometimes when building a gallery it is useful to know the dimensions of each asset.  You can get this information with
<a href="https://www.getzola.org/documentation/templates/overview/#get-image-metadata">get_image_metadata</a>.</p>
<p>This can also be useful in combination with <code>resize_image()</code> to do a relative resizing. So we can create a relative image resizing function with the following shortcode named <code>resize_image_relative.html</code>:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">mdata </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">get_image_metadata</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>) %}
</span><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span>(</span><span style="color:#d0d0ff;">mdata</span><span>.</span><span style="color:#d0d0ff;">width </span><span style="color:#cc7833;">* </span><span style="color:#d0d0ff;">scale</span><span>)|</span><span style="color:#d0d0ff;">int</span><span>, </span><span style="color:#d0d0ff;">op</span><span style="color:#cc7833;">=</span><span style="color:#c1be91;">&quot;fit_width&quot;</span><span>) %}
</span><span>&lt;img src=&quot;{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}&quot; /&gt;
</span></code></pre>
<p>It can be invoked from Markdown like this:</p>
<p><code>resize_image_relative(..., scale=0.5)</code></p>


<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;01-zola.2894991332a9de9e.png" /><h2 id="creating-scaled-down-versions-of-high-resolution-images"><a class="zola-anchor" href="#creating-scaled-down-versions-of-high-resolution-images" aria-label="Anchor link for: creating-scaled-down-versions-of-high-resolution-images">ðŸ”—</a>Creating scaled-down versions of high-resolution images</h2>
<p>With the above, we can also create a shortcode that creates a 50% scaled-down version of a high-resolution image (e.g. screenshots taken on Retina Macs), along with the proper HTML5 <code>srcset</code> for the original image to be displayed on high-resolution / retina displays.</p>
<p>Consider the following shortcode named <code>high_res_image.html</code>:</p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">mdata </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">get_image_metadata</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>) %}
</span><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">w </span><span style="color:#cc7833;">= </span><span>(</span><span style="color:#d0d0ff;">mdata</span><span>.</span><span style="color:#d0d0ff;">width </span><span style="color:#cc7833;">/</span><span> 2) | </span><span style="color:#d0d0ff;">int </span><span>%}
</span><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">h </span><span style="color:#cc7833;">= </span><span>(</span><span style="color:#d0d0ff;">mdata</span><span>.</span><span style="color:#d0d0ff;">height </span><span style="color:#cc7833;">/</span><span> 2) | </span><span style="color:#d0d0ff;">int </span><span>%}
</span><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">w</span><span>, </span><span style="color:#d0d0ff;">height</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">h</span><span>, </span><span style="color:#d0d0ff;">op</span><span style="color:#cc7833;">=</span><span style="color:#c1be91;">&quot;fit_width&quot;</span><span>) %}
</span><span>&lt;img src=&quot;{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}&quot; srcset=&quot;/{{</span><span style="color:#d0d0ff;">path</span><span>}} 2x&quot;/&gt;
</span></code></pre>




<img src="https:&#x2F;&#x2F;www.getzola.org&#x2F;processed_images&#x2F;08-example.cdf453f9e75156af.jpg" srcset="/documentation&#x2F;content&#x2F;image-processing&#x2F;08-example.jpg 2x"/>

    </div>
</div>

        </div>
        <footer>
            Â©2017-2025 â€” <a class="white" href="https://www.vincentprouillet.com">Vincent Prouillet</a> and <a class="white" href="https://github.com/getzola/zola/graphs/contributors">contributors</a>
        </footer>

        <script type="text/javascript" src="https://www.getzola.org/elasticlunr.min.js"></script>
        <script type="text/javascript" src="https://www.getzola.org/search.js"></script>
    </body>
</html>
